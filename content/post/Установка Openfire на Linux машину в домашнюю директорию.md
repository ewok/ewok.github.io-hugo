{
    "date": "2010-12-07",
    "description": null,
    "draft": false,
    "id": 4,
    "image": null,
    "meta_title": null,
    "slug": "openfire",
    "tags": [
        "admins"
    ],
    "title": "Установка Openfire на Linux машину в домашнюю директорию",
    "type": "post"
}




Openfire - джаббер сервер написанный на java, удобный в настройке, но более требователен к ресурсам чем например ejabberd.

Здесь я опишу установку Openfire в домашнюю директорию. Если у вас есть шелл доступ, и хостинг провайдер разрешил вам запускать исполняемые файлы.

 

**Шаг 1. Проверка на наличие java.**

Во первых, проверим есть ли у вас java. Просто введем в терминале на вашем хостинге:

`$ java`

Если java запустилась, то пропускаем следующий шаг.

**Шаг 2. Установка java.**

Если в предыдущем шаге вас постигла неудача, то приступим к установке jre(Java Runtime Environment).

Переходим по ссылке и скачиваем необходимый дистрибутив. В моем случае "Linux x64".

Получив необходимый установочный файл:jre-6u22-linux, делаем его исполняемым и запускаем:

`$ chmod u+x jre-6u22-linux
$ ./jre-6u22-linux`

К полученной, после запуска файла, jre пропишем путь в переменную окружения PATH.
Например отредактируем или добавив в файле ~/.bash_profile строку:

`PATH=$PATH:$HOME/bin:$HOME/bin/jre/bin # Всё java установлена.`

**Шаг 3. Установка Openfire.**

Качаем дистрибутив Openfire. По ссылке выбираем необходимый. На время написания статьи последняя версия была 3.6.4.

Качаем:

`$ wget http://www.igniterealtime.org/downloadServlet?filename=openfire/openfire_3_6_4.tar.gz`

Полученный архив распаковываем:

`$ tar xvfz openfire_3_6_4.tar.gz`

Всё Openfire у нас есть.

**Шаг 4. Запуск и настройка.**

Запуск: Выходим и снова запускаем терминальную сессию(чтобы пути переменных окружения обновились, или можете обновить их командой).

Далее запускаем Openfire:

`$ /path_with_openfire/bin/openfire start`

Вот в общем то и всё с запуском.

Настройка:

Переходим любым браузером по адресу: http://yourdomain.org:9090 для входа в админку.

Вам будет необходимо установить язык окружения, базу данных (заранее созданную в настройках вашего хостинга), имя домена вашего сервера, новый пароль администратора. После прохождения всех несложных пунктов первоначальной настройки и ввода нового пароля вы становитесь обладателем рабочего jabber сервера.

За всё время установки я столкнулся только с одной проблемой. После первоначальной установки, админка меня не пускала ни по нововведенному паролю ни по старому. Решил эту проблему редактированием таблицы SQL "ofUser".

Удалил данные из поля "encryptedPassword" и установил временный пароль в поле "plainPassword". После удачного входа в админку пароль сразу поменял и всё заработало.

Установка стандартных плагинов происходит очень просто. Отметкой необходимых пунктов в меню Plugins.

Установка сторонних плагинов происходит там же в пункте Upload Plugin.

Для ICQ транспорта я выбрал Kracken Настройка которого тоже не занимает много времени и сил.

Всё.
